# Simple3DViewer

3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä OBJ –º–æ–¥–µ–ª–µ–π –Ω–∞ JavaFX. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ macOS (–≤–∫–ª—é—á–∞—è Apple Silicon M1/M2/M3).

![Java](https://img.shields.io/badge/Java-17+-blue)
![JavaFX](https://img.shields.io/badge/JavaFX-17.0.9-green)
![Platform](https://img.shields.io/badge/Platform-macOS%20%7C%20Linux%20%7C%20Windows-lightgrey)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ó–∞–ø—É—Å–∫](#-–∑–∞–ø—É—Å–∫)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ó–∞–≥—Ä—É–∑–∫–∞ OBJ —Ñ–∞–π–ª–æ–≤** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ Wavefront OBJ
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –≤–µ—Ä—à–∏–Ω –∏ –ø–æ–ª–∏–≥–æ–Ω–æ–≤ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π** ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ, –≤—Ä–∞—â–µ–Ω–∏–µ, —Å–±—Ä–æ—Å –ø–æ–∑–∏—Ü–∏–∏
- **–¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è** ‚Äî —Ç—ë–º–Ω–∞—è –∏ —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º—ã
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ OBJ —Ñ–æ—Ä–º–∞—Ç
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω, –ø–æ–ª–∏–≥–æ–Ω–æ–≤, –Ω–æ—Ä–º–∞–ª–µ–π, —Ç–µ–∫—Å—Ç—É—Ä–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Java 17** –∏–ª–∏ –≤—ã—à–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è OpenJDK 17)
- **Maven 3.8+**
- **macOS 11+** / Linux / Windows 10+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ macOS (Homebrew)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Java 17
brew install openjdk@17

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ PATH (–¥–ª—è zsh)
echo 'export PATH="/opt/homebrew/opt/openjdk@17/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Maven
brew install maven
```

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd Simple3DViewer

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
mvn clean compile
```

## üöÄ –ó–∞–ø—É—Å–∫

### –°–ø–æ—Å–æ–± 1: –°–∫—Ä–∏–ø—Ç –¥–ª—è macOS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å–∫ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ä–µ–∂–∏–º–µ (software rendering)
./run-macos.sh safe

# –ó–∞–ø—É—Å–∫ —Å hardware acceleration
./run-macos.sh hw

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
./run-macos.sh debug
```

### –°–ø–æ—Å–æ–± 2: Maven

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫
mvn javafx:run

# –ó–∞–ø—É—Å–∫ —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º –¥–ª—è macOS
mvn javafx:run -Pmacos-safe

# –ó–∞–ø—É—Å–∫ —Å hardware acceleration
mvn javafx:run -Phw-accel
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ IDE

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ IntelliJ IDEA / Eclipse
2. –ù–∞–π–¥–∏—Ç–µ –∫–ª–∞—Å—Å `com.cgvsu.Main`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–∞–∫ Java Application
4. –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –¥–æ–±–∞–≤—å—Ç–µ VM options:
   ```
   -Dprism.order=sw -Dprism.forceGPU=false
   ```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏

| –î–µ–π—Å—Ç–≤–∏–µ | –°–ø–æ—Å–æ–± |
|----------|--------|
| –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–µ–ª—å | –§–∞–π–ª ‚Üí –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–µ–ª—å (Ctrl+O) |
| –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–æ–¥–µ–ª—å | –§–∞–π–ª ‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–æ–¥–µ–ª—å (Ctrl+S) |
| –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª—å | –í—ã–±—Ä–∞—Ç—å –≤ —Å–ø–∏—Å–∫–µ ‚Üí –∫–Ω–æ–ø–∫–∞ "‚àí" |
| –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å | –í—ã–±—Ä–∞—Ç—å ‚Üí –∫–Ω–æ–ø–∫–∞ "‚úé" |
| –í—ã–±—Ä–∞—Ç—å –≤—Å–µ | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –í—ã–±—Ä–∞—Ç—å –≤—Å–µ (Ctrl+A) |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| ‚Üë / ‚Üì | –í–ø–µ—Ä—ë–¥ / –ù–∞–∑–∞–¥ |
| ‚Üê / ‚Üí | –í–ª–µ–≤–æ / –í–ø—Ä–∞–≤–æ |
| W / S | –í–≤–µ—Ä—Ö / –í–Ω–∏–∑ |
| Ctrl+R | –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã |

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏

1. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –≤ —Å–ø–∏—Å–∫–µ —Å–ª–µ–≤–∞
2. –í–≤–µ–¥–∏—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –≤ –ø–æ–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `0, 1, 5-10`)
3. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å –≤–µ—Ä—à–∏–Ω—ã" –∏–ª–∏ "–£–¥–∞–ª–∏—Ç—å –ø–æ–ª–∏–≥–æ–Ω—ã"

**–§–æ—Ä–º–∞—Ç –∏–Ω–¥–µ–∫—Å–æ–≤:**
- –û–¥–∏–Ω–æ—á–Ω—ã–µ: `0, 1, 5`
- –î–∏–∞–ø–∞–∑–æ–Ω—ã: `5-10`
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ: `0, 1, 5-10, 15`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Simple3DViewer/
‚îú‚îÄ‚îÄ src/main/java/com/cgvsu/
‚îÇ   ‚îú‚îÄ‚îÄ Main.java                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ Simple3DViewer.java       # JavaFX Application
‚îÇ   ‚îú‚îÄ‚îÄ GuiController.java        # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä UI
‚îÇ   ‚îú‚îÄ‚îÄ model/                    # –ö–ª–∞—Å—Å—ã –º–æ–¥–µ–ª–∏ (Model, Polygon)
‚îÇ   ‚îú‚îÄ‚îÄ math/                     # –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã (Vector2f, Vector3f)
‚îÇ   ‚îú‚îÄ‚îÄ objreader/                # –ü–∞—Ä—Å–µ—Ä OBJ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ objwriter/                # –ó–∞–ø–∏—Å—å OBJ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ render_engine/            # –î–≤–∏–∂–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ scene/                    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ core/                     # Core –∫–ª–∞—Å—Å—ã (–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ io/                       # –í–≤–æ–¥/–≤—ã–≤–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ service/                  # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ exception/                # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ util/                     # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ ui/                       # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ src/main/resources/com/cgvsu/
‚îÇ   ‚îú‚îÄ‚îÄ fxml/gui.fxml            # FXML —Ä–∞–∑–º–µ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ css/                      # CSS —Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dark-theme.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ light-theme.css
‚îÇ   ‚îî‚îÄ‚îÄ models/                   # –¢–µ—Å—Ç–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ       ‚îî‚îÄ‚îÄ cube.obj
‚îú‚îÄ‚îÄ pom.xml                       # Maven –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ run-macos.sh                  # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è macOS
‚îî‚îÄ‚îÄ README.md
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### macOS: NullPointerException –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Canvas

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ `Cannot invoke "com.sun.prism.RTTexture.createGraphics()" because "<local9>" is null`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å software rendering
./run-macos.sh safe

# –ò–ª–∏ —á–µ—Ä–µ–∑ Maven
mvn javafx:run -Djavafx.options="-Dprism.order=sw"
```

### macOS: NSTrackingRectTag –æ—à–∏–±–∫–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ JavaFX —Å macOS

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JavaFX 17.0.9 (—É–∫–∞–∑–∞–Ω–∞ –≤ pom.xml) –≤–º–µ—Å—Ç–æ 21+

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Java:
   ```bash
   java -version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 17+
   ```

2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à Maven:
   ```bash
   mvn dependency:purge-local-repository
   mvn clean compile
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   ./run-macos.sh debug
   ```

### –ù–∏–∑–∫–∏–π FPS

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–∫–ª—é—á–∏—Ç—å hardware acceleration:
```bash
./run-macos.sh hw
```

## üî® –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–±–æ—Ä–∫–∞ JAR

```bash
mvn clean package
```

JAR —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ `target/cgvsu-1.0-SNAPSHOT.jar`

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
mvn test
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

```bash
mvn compile -X  # –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –∫—É—Ä—Å–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏.

## üë• –ê–≤—Ç–æ—Ä—ã

–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Simple3DViewer